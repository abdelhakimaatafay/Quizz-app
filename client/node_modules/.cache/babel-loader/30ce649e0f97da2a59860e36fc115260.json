{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\21276\\\\Desktop\\\\Quizz-app\\\\client\\\\src\\\\components\\\\ViewResults\\\\ViewResults.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport qs from 'qs';\nimport Sidebar from '../Sidebar/Sidebar';\nimport './ViewResults.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ViewResults extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getBorderLeft = idx => {\n      if (this.state.result.answers[idx]) {\n        return '5px solid green';\n      } else {\n        return '5px solid red';\n      }\n    };\n\n    this.getScore = () => {\n      let len = this.state.result.answers.length;\n      let right = this.state.result.answers.filter(ans => ans === true);\n      return 100 * (right.length / len) + '%';\n    };\n\n    this.state = {\n      result: null,\n      quiz: null\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_ID\")) {\n      this.props.history.push('/');\n      localStorage.clear();\n    } else {\n      let id = qs.parse(this.props.location.search, {\n        ignoreQueryPrefix: true\n      }).id;\n\n      if (!id) {\n        this.props.history.push('/');\n      } else {\n        axios.get('/api/quizzes/results/' + id).then(res => {\n          this.setState({\n            result: res.data.score,\n            quiz: res.data.quiz\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"view-results-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), this.state.quiz && this.state.result && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header\",\n          children: \"Quiz Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quiz-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header\",\n              children: this.state.quiz.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category\",\n              children: this.state.quiz.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comments\",\n              children: [this.state.quiz.comments.length, \" Comments\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"likes\",\n              children: [this.state.quiz.likes, \" Likes\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"others\",\n              children: [this.state.quiz.scores.length, \" Other people have taken this quiz\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score\",\n          children: [\"Score: \", this.getScore()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"answers\",\n          children: this.state.quiz.questions.map((q, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"answer\",\n            style: {\n              borderLeft: this.getBorderLeft(idx)\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: q.questionName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.quiz.imgUrl ? this.state.quiz.imgUrl : 'https://images.unsplash.com/photo-1518770660439-4636190af475?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8dGVjaG5vbG9neXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/21276/Desktop/Quizz-app/client/src/components/ViewResults/ViewResults.js"],"names":["React","axios","qs","Sidebar","ViewResults","Component","constructor","props","getBorderLeft","idx","state","result","answers","getScore","len","length","right","filter","ans","quiz","componentDidMount","localStorage","getItem","history","push","clear","id","parse","location","search","ignoreQueryPrefix","get","then","res","setState","data","score","render","name","category","comments","likes","scores","questions","map","q","borderLeft","questionName","imgUrl"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport qs from 'qs';\n\nimport Sidebar from '../Sidebar/Sidebar';\nimport './ViewResults.css';\n\nexport default class ViewResults extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            result: null,\n            quiz: null\n        }\n    }\n\n    componentDidMount() {\n        if (!localStorage.getItem(\"_ID\")) {\n            this.props.history.push('/');\n            localStorage.clear();\n        } else {\n            let id = qs.parse(this.props.location.search, { ignoreQueryPrefix: true }).id;\n            if (!id) {\n                this.props.history.push('/');\n            } else {\n                axios.get('/api/quizzes/results/' + id).then(res => {\n                    this.setState({ result: res.data.score, quiz: res.data.quiz})\n                })\n            }\n        }\n    }\n\n    getBorderLeft = idx => {\n        if (this.state.result.answers[idx]) {\n            return '5px solid green';\n        } else {\n            return '5px solid red';\n        }\n    }\n\n    getScore = () => {\n        let len = this.state.result.answers.length;\n        let right = this.state.result.answers.filter(ans => ans === true);\n        return (100 * (right.length / len)) + '%';\n    }\n    \n    render() {\n        return (\n            <div className=\"view-results-wrapper\">\n                <div>\n                    <Sidebar />\n                </div>\n                {(this.state.quiz && this.state.result) && \n                    <div className=\"body\">\n                        <div className=\"header\">\n                            Quiz Results \n                        </div>\n                        <div className=\"quiz-data\">\n                            <div className=\"left\">\n                                <div className=\"header\">{this.state.quiz.name}</div>\n                                <div className=\"category\">{this.state.quiz.category}</div>\n                                <div className=\"comments\">{this.state.quiz.comments.length} Comments</div>\n                            </div>\n                            <div className=\"right\">\n                                <div className=\"likes\">{this.state.quiz.likes} Likes</div>\n                                <div className=\"others\">{this.state.quiz.scores.length} Other people have taken this quiz</div>\n                            </div>\n                        </div>\n\n                        <div className=\"score\">\n                           Score: {this.getScore()}\n                        </div>\n\n                        <div className=\"answers\"> \n                            {this.state.quiz.questions.map((q, idx) => (\n                                <div key={idx} className=\"answer\" style={{borderLeft: this.getBorderLeft(idx)}}>\n                                    <div>{q.questionName}</div>\n                                </div> \n                            ))}\n                        </div>\n\n                        <div className=\"img\">\n                            <img src={this.state.quiz.imgUrl ? this.state.quiz.imgUrl : 'https://images.unsplash.com/photo-1518770660439-4636190af475?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8dGVjaG5vbG9neXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&w=1000&q=80'} />\n                        </div>\n                    </div>\n                }\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}